Для работы программы ей необходимо предоставить два типа данных:


Как программа работает

Программа отслеживает файлы в двух каталогах.
В первом каталоге (будем называеть его хранилище подключений) хранятся подключения к серверам. Один файл - одно подключение. Пример файла:

{
    "instance": "myserver/myinstance",
    "login": "sa",
    "password": "1111",
    "tags": [
        "tag1"
    ]
}
Если в разных файлах будет встречаться одинаковый instance, такие подключения будут проигнорированы.

Во втором каталоге (будем называть его хранилище заданий) хранятся задания с укзанием, в том числе, и серверов, для которого это задание должно выполняться.
Один файл - одно задание. Пример файла:

{
    "key": "key1",
    "title": "list of sys.objects",
    "metronom": {
        "kind": "cron",
        "cron": "0 */1 * * * *"
    },
    "queries": [
        "SELECT * FROM list of sys.objects"
    ],
    "allowRows": true,
    "allowMessages": true,
    "mssqls": {
        "tags": [
			"tag1"
		]
    }
}

